<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Process (current.Current.Process)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">current</a> &#x00BB; <a href="../index.html">Current</a> &#x00BB; Process</nav><h1>Module <code>Current.Process</code></h1><p>Helper functions for spawning sub-processes.</p></header><dl><dt class="spec value" id="val-exec"><a href="#val-exec" class="anchor"></a><code><span class="keyword">val</span> exec : <span>?&#8288;cwd:Fpath.t</span> <span>&#45;&gt;</span> <span>?&#8288;stdin:string</span> <span>&#45;&gt;</span> <span>?&#8288;pp_error_command:<span>(Stdlib.Format.formatter <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>cancellable:bool</span> <span>&#45;&gt;</span> <span>job:<a href="../Job/index.html#type-t">Job.t</a></span> <span>&#45;&gt;</span> Lwt_process.command <span>&#45;&gt;</span> <span><span>unit <a href="../index.html#type-or_error">or_error</a></span> Lwt.t</span></code></dt><dd><p><code>exec ~job cmd</code> uses <code>Lwt_process</code> to run <code>cmd</code>, with output to <code>job</code>'s log.</p><dl><dt>parameter cwd</dt><dd><p>Sets the current working directory for this command.</p></dd></dl><dl><dt>parameter cancellable</dt><dd><p>Should the process be terminated if the job is cancelled?</p></dd></dl><dl><dt>parameter stdin</dt><dd><p>Data to write to stdin before closing it.</p></dd></dl><dl><dt>parameter pp_error_command</dt><dd><p>Format the command for an error message. The default is to print &quot;Command $cmd&quot;.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-check_output"><a href="#val-check_output" class="anchor"></a><code><span class="keyword">val</span> check_output : <span>?&#8288;cwd:Fpath.t</span> <span>&#45;&gt;</span> <span>?&#8288;stdin:string</span> <span>&#45;&gt;</span> <span>?&#8288;pp_error_command:<span>(Stdlib.Format.formatter <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>cancellable:bool</span> <span>&#45;&gt;</span> <span>job:<a href="../Job/index.html#type-t">Job.t</a></span> <span>&#45;&gt;</span> Lwt_process.command <span>&#45;&gt;</span> <span><span>string <a href="../index.html#type-or_error">or_error</a></span> Lwt.t</span></code></dt><dd><p>Like <code>exec</code>, but return the child's stdout as a string rather than writing it to the log.</p></dd></dl><dl><dt class="spec value" id="val-with_tmpdir"><a href="#val-with_tmpdir" class="anchor"></a><code><span class="keyword">val</span> with_tmpdir : <span>?&#8288;prefix:string</span> <span>&#45;&gt;</span> <span>(Fpath.t <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt><dd><p><code>with_tmpdir fn</code> creates a temporary directory, runs <code>fn tmpdir</code>, and then deletes the directory (recursively).</p><dl><dt>parameter prefix</dt><dd><p>Allows giving the directory a more meaningful name (for debugging).</p></dd></dl></dd></dl></div></body></html>